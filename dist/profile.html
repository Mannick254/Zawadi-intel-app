<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Profile â€” Zawadi Intel</title>
  <meta name="description" content="Manage your user account, profile photo, and settings." />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://vercel.live; font-src 'self' https://fonts.gstatic.com; script-src 'self' 'unsafe-inline' https://vercel.live; connect-src 'self' https://newsapi.org https://vercel.live wss://*.pusher.com; frame-src 'self' https://vercel.live;">
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/layout.css" />
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/profile.css" />
  <link rel="icon" href="public/icons/icon-192.png" type="image/png" />
</head>
<body>

  <!-- ðŸ” Navigation -->
  <nav class="top-nav">
    <div class="logo">ðŸ“œ Zawadi Intel</div>
    <div class="main-links">
      <a href="index.html">Home</a>
      <a href="global.html">Global</a>
      <a href="middle-east.html">Middle East</a>
      <a href="public/articles/africa.html">Africa</a>
      <a href="biography.html">Biographies</a>
      <a href="media.html">Media</a>
      <a href="books.html">Books</a>
      <a href="app.html">Archive</a>
      <a href="profile.html" class="active">Profile</a>
    </div>
  </nav>

  <!-- Install banner (mobile) -->
  <div id="install-banner" role="dialog" aria-live="polite">
    <div class="install-text">Install Zawadi Intel for quick access and offline reading.</div>
    <button id="install-now" style="display:none;">Install</button>
    <button id="install-close" class="close-btn">âœ•</button>
  </div>

  <!-- ðŸ“° Hero Banner -->
  <header class="hero-banner">
    <h1>User Profile</h1>
    <p>Manage your profile, photo, and settings.</p>
  </header>

  <!-- Profile Content -->
  <main class="aj-container">
    <div class="profile-container">
      <h2>Welcome, <span id="username-display">Guest</span></h2>

      <!-- User Details Section -->
      <div id="user-details" style="display: none;">
        <h3>Your Account Details</h3>
        <p><strong>Username:</strong> <span id="user-username"></span></p>
        <p><strong>Registered:</strong> <span id="user-registered"></span></p>
        <p><strong>Account Type:</strong> <span id="user-type"></span></p>
        <button id="admin-link">Access Admin Dashboard</button>
        <button id="logout-btn">Logout</button>
      </div>

      <!-- Auth Forms Section -->
      <div id="auth-forms" style="display: block;">
        <div id="login-form">
          <h3>Login to Your Account</h3>
          <label for="login-username">Username</label>
          <input type="text" id="login-username" required>
          <label for="login-password">Password</label>
          <input type="password" id="login-password" required>
          <button id="login-btn">Login</button>
          <p id="login-msg"></p>
        </div>

        <div id="register-form" style="margin-top: 20px;">
          <h3>Create New Account</h3>
          <label for="register-username">Username</label>
          <input type="text" id="register-username" required>
          <label for="register-password">Password</label>
          <input type="password" id="register-password" required>
          <button id="register-btn">Register</button>
          <p id="register-msg"></p>
        </div>
      </div>

      <!-- Profile Photo Section (only for logged-in users) -->
      <div id="profile-photo-section" style="display: none;">
        <h3>Profile Photo</h3>
        <div id="avatar-container">
          <img id="profile-photo" class="profile-photo" src="images/baba.png" alt="Profile Photo" />
        </div>

        <div class="upload-section">
          <input type="file" id="photo-input" accept="image/*" />
          <button id="upload-btn">Upload Photo</button>
        </div>

        <div class="crop-section">
          <canvas id="crop-canvas"></canvas>
          <div class="controls">
            <button id="crop-save">Save Cropped Image</button>
            <button id="crop-cancel">Cancel</button>
          </div>
        </div>
      </div>

      <p id="status-message"></p>
    </div>
  </main>

  <!-- ðŸ”» Footer -->
  <footer role="contentinfo">
    <p>&copy; 2026 Zawadi Intel. All rights reserved.</p>
  </footer>

  <!-- External scripts only -->
  <script src="main.js"></script>
  <script src="/public/js/auth.js"></script>
  <script src="/public/js/profile.js"></script>
  <script src="/public/js/clock-calendar.js" defer></script>
</body>
</html>

import{j as e,s as f}from"./AdminPage-DB6GH068.js";import{r as i}from"./react-CvSz1nqv.js";const g="_featuredStories_117yi_1",x="_featuredHeader_117yi_11",y="_status_117yi_33",j="_error_117yi_39",S="_featuredLayout_117yi_46",N="_mainStory_117yi_54",p="_mainImage_117yi_59",C="_mainContent_117yi_76",T="_mainTitle_117yi_80",D="_mainExcerpt_117yi_98",E="_storyDate_117yi_106",v="_sideStories_117yi_113",I="_sideCard_117yi_119",L="_sideContent_117yi_137",H="_sideTitle_117yi_142",$="_sideImage_117yi_161",t={featuredStories:g,featuredHeader:x,status:y,error:j,featuredLayout:S,mainStory:N,mainImage:p,mainContent:C,mainTitle:T,mainExcerpt:D,storyDate:E,sideStories:v,sideCard:I,sideContent:L,sideTitle:H,sideImage:$},F=()=>{var o;const[r,l]=i.useState([]),[m,n]=i.useState(!0),[d,_]=i.useState(null);if(i.useEffect(()=>{(async()=>{n(!0);const{data:h,error:c}=await f.from("articles").select("*").eq("published",!0).eq("section","feature").order("created_at",{ascending:!1});c?(console.error("Error loading featured stories:",c.message),_("Failed to load stories.")):l(h||[]),n(!1)})()},[]),m)return e.jsx("p",{className:t.status,children:"Loading stories..."});if(d)return e.jsx("p",{className:t.error,children:d});if(r.length===0)return e.jsx("p",{className:t.status,children:"No featured stories available at the moment."});const[a,...u]=r;return e.jsxs("section",{id:"featured-stories",className:t.featuredStories,children:[e.jsx("div",{className:t.featuredHeader}),e.jsxs("div",{className:t.featuredLayout,children:[e.jsxs("article",{className:t.mainStory,children:[a.image_url&&e.jsx("div",{className:t.mainImage,children:e.jsx("a",{href:`/articles/${a.slug||a.id}`,children:e.jsx("img",{src:a.image_url,alt:a.title||"Featured story image",loading:"lazy"})})}),e.jsxs("div",{className:t.mainContent,children:[e.jsx("h3",{className:t.mainTitle,children:e.jsx("a",{href:`/articles/${a.slug||a.id}`,children:a.title})}),e.jsxs("p",{className:t.mainExcerpt,children:[(o=a.content)==null?void 0:o.slice(0,160),"..."]}),e.jsx("time",{className:t.storyDate,dateTime:a.created_at,children:new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx("div",{className:t.sideStories,children:u.map(s=>e.jsxs("article",{className:t.sideCard,children:[e.jsxs("div",{className:t.sideContent,children:[e.jsx("h4",{className:t.sideTitle,children:e.jsx("a",{href:`/articles/${s.slug||s.id}`,children:s.title})}),e.jsx("time",{className:t.storyDate,dateTime:s.created_at,children:new Date(s.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),s.image_url&&e.jsx("div",{className:t.sideImage,children:e.jsx("a",{href:`/articles/${s.slug||s.id}`,children:e.jsx("img",{src:s.image_url,alt:s.title||"Story image",loading:"lazy"})})})]},s.id))})]})]})};export{F as default};
//# sourceMappingURL=FeaturedStories-C0xyhpPz.js.map

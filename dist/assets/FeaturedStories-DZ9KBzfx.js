import{j as e,M as h,r as f,s as g}from"./AdminPage-CMokaLRz.js";import{r}from"./react-FoVpDZ-V.js";const x="_featuredStories_2kneh_1",j="_featuredHeader_2kneh_11",S="_status_2kneh_33",k="_error_2kneh_39",N="_featuredLayout_2kneh_46",p="_mainStory_2kneh_54",y="_mainImage_2kneh_59",C="_mainContent_2kneh_76",T="_mainTitle_2kneh_80",v="_mainExcerpt_2kneh_98",D="_storyDate_2kneh_106",E="_sideStories_2kneh_113",I="_sideCard_2kneh_119",L="_sideContent_2kneh_137",$="_sideTitle_2kneh_142",w="_sideImage_2kneh_161",t={featuredStories:x,featuredHeader:j,status:S,error:k,featuredLayout:N,mainStory:p,mainImage:y,mainContent:C,mainTitle:T,mainExcerpt:v,storyDate:D,sideStories:E,sideCard:I,sideContent:L,sideTitle:$,sideImage:w},b=()=>{const[i,c]=r.useState([]),[l,n]=r.useState(!0),[d,m]=r.useState(null);if(r.useEffect(()=>{(async()=>{n(!0);const{data:u,error:o}=await g.from("articles").select("*").eq("published",!0).eq("section","feature").order("created_at",{ascending:!1});o?(console.error("Error loading featured stories:",o.message),m("Failed to load stories.")):c(u||[]),n(!1)})()},[]),l)return e.jsx("p",{className:t.status,children:"Loading stories..."});if(d)return e.jsx("p",{className:t.error,children:d});if(i.length===0)return e.jsx("p",{className:t.status,children:"No featured stories available at the moment."});const[s,..._]=i;return e.jsxs("section",{id:"featured-stories",className:t.featuredStories,children:[e.jsx("div",{className:t.featuredHeader}),e.jsxs("div",{className:t.featuredLayout,children:[e.jsxs("article",{className:t.mainStory,children:[s.image_url&&e.jsx("div",{className:t.mainImage,children:e.jsx("a",{href:`/articles/${s.slug||s.id}`,children:e.jsx("img",{src:s.image_url,alt:s.title||"Featured story image",loading:"lazy"})})}),e.jsxs("div",{className:t.mainContent,children:[e.jsx("h3",{className:t.mainTitle,children:e.jsx("a",{href:`/articles/${s.slug||s.id}`,children:s.title})}),e.jsx("div",{className:t.mainExcerpt,children:e.jsx(h,{remarkPlugins:[f],children:s.content?`${s.content.slice(0,160)}...`:""})}),e.jsx("time",{className:t.storyDate,dateTime:s.created_at,children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx("div",{className:t.sideStories,children:_.map(a=>e.jsxs("article",{className:t.sideCard,children:[e.jsxs("div",{className:t.sideContent,children:[e.jsx("h4",{className:t.sideTitle,children:e.jsx("a",{href:`/articles/${a.slug||a.id}`,children:a.title})}),e.jsx("time",{className:t.storyDate,dateTime:a.created_at,children:new Date(a.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),a.image_url&&e.jsx("div",{className:t.sideImage,children:e.jsx("a",{href:`/articles/${a.slug||a.id}`,children:e.jsx("img",{src:a.image_url,alt:a.title||"Story image",loading:"lazy"})})})]},a.id))})]})]})};export{b as default};
//# sourceMappingURL=FeaturedStories-DZ9KBzfx.js.map

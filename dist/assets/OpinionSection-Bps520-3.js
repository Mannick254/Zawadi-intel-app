import{j as i,M as p,r as h,s as m}from"./AdminPage-CMokaLRz.js";import{r as n}from"./react-FoVpDZ-V.js";const j=()=>{const[a,r]=n.useState([]),[c,o]=n.useState(!0),[l,t]=n.useState(null);return n.useEffect(()=>{(async()=>{o(!0);const{data:d,error:s}=await m.from("articles").select("*").eq("published",!0).eq("category","opinion").order("created_at",{ascending:!1}).limit(4);s?(console.error("Error fetching opinion articles:",s.message),t(s.message)):r(d),o(!1)})()},[]),c?i.jsx("section",{className:"opinion-hub",children:i.jsxs("div",{className:"opinion-container",children:[i.jsx("h2",{children:"Opinion & Analysis"}),i.jsx("p",{children:"Loading opinion articles..."})]})}):l?i.jsx("section",{className:"opinion-hub",children:i.jsxs("div",{className:"opinion-container",children:[i.jsx("h2",{children:"Opinion & Analysis"}),i.jsx("p",{children:"Could not load opinion articles at this time."})]})}):i.jsx("section",{className:"opinion-hub",children:i.jsxs("div",{className:"opinion-container",children:[i.jsx("h2",{children:"Opinion & Analysis"}),a.length>0?i.jsx("div",{className:"opinion-grid",children:a.map(e=>i.jsxs("article",{className:"opinion-piece",children:[e.image_url&&i.jsx("div",{className:"opinion-piece-image",children:i.jsx("a",{href:`/articles/${e.slug||e.id}`,children:i.jsx("img",{src:e.image_url,alt:e.title,loading:"lazy"})})}),i.jsxs("div",{className:"opinion-piece-content",children:[i.jsx("h3",{className:"opinion-piece-title",children:i.jsx("a",{href:`/articles/${e.slug||e.id}`,children:e.title})}),i.jsxs("p",{className:"opinion-piece-author",children:["By ",e.author||"Zawadi Intel Contributor"]}),i.jsx("div",{className:"opinion-piece-excerpt",children:i.jsx(p,{remarkPlugins:[h],children:e.content?`${e.content.slice(0,120)}...`:""})})]})]},e.id))}):i.jsx("p",{children:"No opinion articles available at the moment."})]})})};export{j as default};
//# sourceMappingURL=OpinionSection-Bps520-3.js.map

{"version":3,"file":"NewsColumns-C7_pJqG8.js","sources":["../../src/components/Storycard.jsx","../../src/components/NewsColumns.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\n\nexport default function StoryCard({ article }) {\n  return (\n    <div className=\"story-card\">\n      {article.image_url && (\n        <img\n          src={article.image_url}\n          alt={article.title}\n          className=\"story-image\"\n        />\n      )}\n      <h3>\n        <Link to={`/articles/${article.slug}`}>{article.title}</Link>\n      </h3>\n      <p>{article.content.slice(0, 120)}...</p>\n      <div className=\"story-meta\">\n        <span className=\"story-category\">{article.category}</span>\n        {article.badge && (\n          <span className={`story-badge ${article.badge}`}>{article.badge}</span>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { supabase } from \"../supabaseClient\"; // adjust path if needed\nimport StoryCard from \"./Storycard\"; // âœ… import StoryCard\n\nconst NewsColumns = () => {\n  const [globalNews, setGlobalNews] = useState([]);\n  const [africanNews, setAfricanNews] = useState([]);\n  const [localNews, setLocalNews] = useState([]);\n\n  useEffect(() => {\n    const fetchNews = async () => {\n      const { data, error } = await supabase\n        .from(\"articles\")\n        .select(\"*\")\n        .order(\"created_at\", { ascending: false });\n\n      if (error) {\n        console.error(\"Error fetching articles:\", error.message);\n        return;\n      }\n\n      // Split into categories\n      setGlobalNews(data.filter((a) => a.category === \"global\"));\n      setAfricanNews(data.filter((a) => a.category === \"africa\"));\n      setLocalNews(data.filter((a) => a.category === \"local\"));\n    };\n\n    fetchNews();\n  }, []);\n\n  return (\n    <main className=\"aj-container\">\n      <section className=\"three-column-layout\">\n        <div className=\"global-column\">\n          <h2>News Today</h2>\n          <section className=\"global-news article-list\">\n            {globalNews.map((article) => (\n              <StoryCard key={article.id} article={article} />\n            ))}\n          </section>\n        </div>\n\n        <div className=\"african-column\">\n          <h2>Africa Trending News</h2>\n          <section className=\"african-news article-list\">\n            {africanNews.map((article) => (\n              <StoryCard key={article.id} article={article} />\n            ))}\n          </section>\n        </div>\n\n        <div className=\"local-column\">\n          <h2>Local News</h2>\n          <section className=\"local-news article-list\">\n            {localNews.map((article) => (\n              <StoryCard key={article.id} article={article} />\n            ))}\n          </section>\n        </div>\n      </section>\n    </main>\n  );\n};\n\nexport default NewsColumns;\n"],"names":["StoryCard","article","jsxs","jsx","Link","NewsColumns","globalNews","setGlobalNews","useState","africanNews","setAfricanNews","localNews","setLocalNews","useEffect","data","error","supabase","a"],"mappings":"6HAEA,SAAwBA,EAAU,CAAE,QAAAC,GAAW,CAC7C,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,aACZ,SAAA,CAAAD,EAAQ,WACPE,EAAAA,IAAC,MAAA,CACC,IAAKF,EAAQ,UACb,IAAKA,EAAQ,MACb,UAAU,aAAA,CAAA,EAGdE,EAAAA,IAAC,KAAA,CACC,SAAAA,EAAAA,IAACC,EAAA,CAAK,GAAI,aAAaH,EAAQ,IAAI,GAAK,SAAAA,EAAQ,KAAA,CAAM,EACxD,SACC,IAAA,CAAG,SAAA,CAAAA,EAAQ,QAAQ,MAAM,EAAG,GAAG,EAAE,KAAA,EAAG,EACrCC,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,iBAAkB,SAAAF,EAAQ,SAAS,EAClDA,EAAQ,OACPE,EAAAA,IAAC,OAAA,CAAK,UAAW,eAAeF,EAAQ,KAAK,GAAK,SAAAA,EAAQ,KAAA,CAAM,CAAA,CAAA,CAEpE,CAAA,EACF,CAEJ,CCpBA,MAAMI,EAAc,IAAM,CACxB,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAAS,CAAA,CAAE,EACzC,CAACC,EAAaC,CAAc,EAAIF,EAAAA,SAAS,CAAA,CAAE,EAC3C,CAACG,EAAWC,CAAY,EAAIJ,EAAAA,SAAS,CAAA,CAAE,EAE7CK,OAAAA,EAAAA,UAAU,IAAM,EACI,SAAY,CAC5B,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAA,EAAU,MAAMC,EAC3B,KAAK,UAAU,EACf,OAAO,GAAG,EACV,MAAM,aAAc,CAAE,UAAW,GAAO,EAE3C,GAAID,EAAO,CACT,QAAQ,MAAM,2BAA4BA,EAAM,OAAO,EACvD,MACF,CAGAR,EAAcO,EAAK,OAAQG,GAAMA,EAAE,WAAa,QAAQ,CAAC,EACzDP,EAAeI,EAAK,OAAQG,GAAMA,EAAE,WAAa,QAAQ,CAAC,EAC1DL,EAAaE,EAAK,OAAQG,GAAMA,EAAE,WAAa,OAAO,CAAC,CACzD,GAEA,CACF,EAAG,CAAA,CAAE,QAGF,OAAA,CAAK,UAAU,eACd,SAAAf,EAAAA,KAAC,UAAA,CAAQ,UAAU,sBACjB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,YAAA,CAAU,EACdA,EAAAA,IAAC,UAAA,CAAQ,UAAU,2BAChB,WAAW,IAAKF,GACfE,EAAAA,IAACH,EAAA,CAA2B,QAAAC,CAAA,EAAZA,EAAQ,EAAsB,CAC/C,CAAA,CACH,CAAA,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,sBAAA,CAAoB,EACxBA,EAAAA,IAAC,UAAA,CAAQ,UAAU,4BAChB,WAAY,IAAKF,GAChBE,EAAAA,IAACH,EAAA,CAA2B,QAAAC,CAAA,EAAZA,EAAQ,EAAsB,CAC/C,CAAA,CACH,CAAA,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,eACb,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,YAAA,CAAU,EACdA,EAAAA,IAAC,UAAA,CAAQ,UAAU,0BAChB,WAAU,IAAKF,GACdE,EAAAA,IAACH,EAAA,CAA2B,QAAAC,CAAA,EAAZA,EAAQ,EAAsB,CAC/C,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}
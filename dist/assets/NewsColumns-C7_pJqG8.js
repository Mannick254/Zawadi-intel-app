import{j as s,s as x}from"./AdminPage-DB6GH068.js";import{r}from"./react-CvSz1nqv.js";import{L as j}from"./main-D88m_WuT.js";function t({article:e}){return s.jsxs("div",{className:"story-card",children:[e.image_url&&s.jsx("img",{src:e.image_url,alt:e.title,className:"story-image"}),s.jsx("h3",{children:s.jsx(j,{to:`/articles/${e.slug}`,children:e.title})}),s.jsxs("p",{children:[e.content.slice(0,120),"..."]}),s.jsxs("div",{className:"story-meta",children:[s.jsx("span",{className:"story-category",children:e.category}),e.badge&&s.jsx("span",{className:`story-badge ${e.badge}`,children:e.badge})]})]})}const u=()=>{const[e,o]=r.useState([]),[i,d]=r.useState([]),[m,h]=r.useState([]);return r.useEffect(()=>{(async()=>{const{data:l,error:n}=await x.from("articles").select("*").order("created_at",{ascending:!1});if(n){console.error("Error fetching articles:",n.message);return}o(l.filter(c=>c.category==="global")),d(l.filter(c=>c.category==="africa")),h(l.filter(c=>c.category==="local"))})()},[]),s.jsx("main",{className:"aj-container",children:s.jsxs("section",{className:"three-column-layout",children:[s.jsxs("div",{className:"global-column",children:[s.jsx("h2",{children:"News Today"}),s.jsx("section",{className:"global-news article-list",children:e.map(a=>s.jsx(t,{article:a},a.id))})]}),s.jsxs("div",{className:"african-column",children:[s.jsx("h2",{children:"Africa Trending News"}),s.jsx("section",{className:"african-news article-list",children:i.map(a=>s.jsx(t,{article:a},a.id))})]}),s.jsxs("div",{className:"local-column",children:[s.jsx("h2",{children:"Local News"}),s.jsx("section",{className:"local-news article-list",children:m.map(a=>s.jsx(t,{article:a},a.id))})]})]})})};export{u as default};
//# sourceMappingURL=NewsColumns-C7_pJqG8.js.map

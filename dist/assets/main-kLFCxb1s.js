const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/KenyaUpdate-_6jcmuNS.js","assets/AdminPage-BkLhF_nn.js","assets/react-FoVpDZ-V.js","assets/AdminPage-c--kYNub.css","assets/InstallBanner-dsv-Onow.js","assets/NewsTicker-CIdCZtCP.js","assets/FeaturedStories-CTcHju5S.js","assets/FeaturedStories-Cr5wk7FH.css","assets/OpinionSection-BgUcEWqz.js","assets/OpinionSection-CokmSFAD.css","assets/BottomHub-UAh6kWuh.js"])))=>i.map(i=>d[i]);
import{u as W,j as e,s as x,L as S,a as le,N as ye,P as T,b as V,M as ce,r as de,c as be,R as Te,d as _,A as we,e as Se,B as Ee}from"./AdminPage-BkLhF_nn.js";import{r as f,g as J,R as A}from"./react-FoVpDZ-V.js";const Ne="modulepreload",Ae=function(r){return"/"+r},ee={},R=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Ae(l),l in ee)return;ee[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":Ne,d||(u.as="script"),u.crossOrigin="",u.href=l,i&&u.setAttribute("nonce",i),document.head.appendChild(u),d)return new Promise((g,m)=>{u.addEventListener("load",g),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return s.then(c=>{for(const i of c||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})},Ce=()=>{const[r,t]=f.useState(""),n=W(),a=s=>{s.preventDefault(),r.trim()&&n(`/search?q=${encodeURIComponent(r)}`)};return e.jsx("section",{className:"search-bar",children:e.jsxs("form",{onSubmit:a,children:[e.jsx("input",{type:"text",placeholder:"Search for news...","aria-label":"Search for news",value:r,onChange:s=>t(s.target.value),className:"search-input"}),e.jsx("button",{type:"submit",className:"btn search-btn",children:"Search"})]})})},ue=()=>{const[r,t]=f.useState(!1),[n,a]=f.useState(!1),[s,o]=f.useState(!1),[c,i]=f.useState(null),[l,d]=f.useState(!1),h=W(),u=()=>t(!1);f.useEffect(()=>{const p=()=>o(window.scrollY>0),y=async()=>{const{data:E,error:b}=await x.auth.getUser();b||i(E.user)};window.addEventListener("scroll",p),y();const{data:v}=x.auth.onAuthStateChange((E,b)=>{const C=b==null?void 0:b.user;i(C??null)});return()=>{window.removeEventListener("scroll",p),v.subscription.unsubscribe()}},[]);const g=async()=>{await x.auth.signOut(),i(null),h("/")},m=p=>{window.innerWidth<=480&&(p.preventDefault(),d(!l))};return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:`top-nav ${s?"sticky-header":""}`,"aria-label":"Main Navigation",children:e.jsxs("div",{className:"aj-container nav-inner",children:[e.jsxs("div",{className:"logo",children:[e.jsx("img",{src:"/icons/icon-192.png",alt:"Zawadi Intel logo",loading:"lazy",width:"48",height:"48"}),e.jsx("span",{className:"brand",children:"üìú Zawadi Intel"})]}),e.jsxs("ul",{className:`main-links ${r?"show":""}`,children:[e.jsx("li",{children:e.jsx(S,{to:"/",onClick:u,children:"Home"})}),e.jsx("li",{children:e.jsx(S,{to:"/category/global",onClick:u,children:"Global"})}),e.jsx("li",{children:e.jsx(S,{to:"/category/africa",onClick:u,children:"Africa"})}),e.jsx("li",{children:e.jsx(S,{to:"/category/local",onClick:u,children:"Local"})}),e.jsx("li",{children:e.jsx(S,{to:"/category/opinion",onClick:u,children:"Opinion"})})]}),e.jsxs("div",{className:"nav-controls",children:[e.jsxs("div",{className:"dropdown account",children:[e.jsx("a",{href:"#",onClick:m,children:"Account"}),e.jsx("ul",{className:`dropdown-content account-dropdown ${l?"show":""}`,children:c?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(S,{to:"/profile",onClick:u,children:"Profile"})}),e.jsx("li",{children:e.jsx("a",{href:"#",onClick:()=>{g(),u()},children:"Logout"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(S,{to:"/login",onClick:u,children:"User Login"})}),e.jsx("li",{className:"divider"}),e.jsx("li",{children:e.jsx(S,{to:"/admin",onClick:u,children:"Admin Login"})})]})})]}),e.jsx("button",{className:"search-toggle","aria-label":"Toggle Search",onClick:()=>a(!n),children:"üîç"})]}),e.jsx("button",{className:"menu-toggle","aria-label":"Toggle Menu",onClick:()=>t(!r),children:"‚ò∞"})]})}),n&&e.jsx(Ce,{})]})},he=()=>e.jsxs("footer",{role:"contentinfo",children:[e.jsxs("ul",{className:"footer-links",children:[e.jsx("li",{children:e.jsx("a",{href:"/about",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"/privacy",children:"Privacy Policy"})})]}),e.jsx("p",{children:"¬© 2026 Zawadi Intel. All rights reserved."})]});function _e({offset:r=0}){const{pathname:t}=le();return f.useEffect(()=>{window.scrollTo({top:r,behavior:"smooth"})},[t,r]),null}const Pe=()=>{const r={margin:"0 10px",color:"#333",textDecoration:"none",fontSize:"12px"},t={backgroundColor:"#e53e3e",color:"#fff",padding:"0.25rem 0.6rem",borderRadius:"5px",fontSize:"0.75rem",fontWeight:"600",textDecoration:"none"};return e.jsxs("div",{style:{backgroundColor:"#f2f2f2",padding:"8px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(S,{to:"/trending",style:t,children:"Trending"}),e.jsx(S,{to:"/category/politics",style:r,children:"Politics"}),e.jsx(S,{to:"/category/climate",style:r,children:"Climate"}),e.jsx(S,{to:"/category/education",style:r,children:"Education"}),e.jsx(S,{to:"/category/society",style:r,children:"Society"})]})};function Le({children:r}){var o;const[t,n]=f.useState(null),[a,s]=f.useState(!0);return f.useEffect(()=>{x.auth.getSession().then(({data:i})=>{var l;n(((l=i.session)==null?void 0:l.user)||null),s(!1)});const{data:c}=x.auth.onAuthStateChange((i,l)=>{n((l==null?void 0:l.user)||null)});return()=>c.subscription.unsubscribe()},[]),a?e.jsx("p",{children:"Loading..."}):t?((o=t==null?void 0:t.user_metadata)==null?void 0:o.role)!=="admin"?e.jsx("p",{children:"Access denied. You do not have admin privileges."}):r:e.jsx(ye,{to:"/login?from=admin",replace:!0})}function Oe(){const[r,t]=f.useState(""),[n,a]=f.useState(""),[s,o]=f.useState(!1),[c,i]=f.useState(""),[l,d]=f.useState(!0),h=le(),u=W();f.useEffect(()=>{new URLSearchParams(h.search).get("from")==="admin"&&d(!1)},[h.search]);const g=async m=>{m.preventDefault(),o(!0),i("");const{error:p}=await x.auth.signInWithPassword({email:r,password:n});o(!1),p?i(p.message):new URLSearchParams(h.search).get("from")==="admin"?u("/admin"):u("/")};return e.jsxs("div",{className:"login-container",children:[e.jsx("h1",{children:"User Login"}),c&&e.jsx("p",{children:c}),e.jsxs("form",{onSubmit:g,children:[e.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:m=>t(m.target.value),required:!0}),e.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:m=>a(m.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:s,children:s?"Logging in...":"Login"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Don't have an account? ",e.jsx(S,{to:"/register",children:"Register"})]}),e.jsx("p",{children:e.jsx(S,{to:"/reset-password",children:"Forgot Password?"})})]})]})}function ke(){var E;const[r,t]=f.useState(null),[n,a]=f.useState(""),[s,o]=f.useState(""),[c,i]=f.useState(""),[l,d]=f.useState(null),[h,u]=f.useState(!1),[g,m]=f.useState(!1),p=W();f.useEffect(()=>{(async()=>{var F,$,H;const{data:C,error:O}=await x.auth.getUser();O||!C.user?(console.error("Error fetching user:",O==null?void 0:O.message),p("/login")):(t(C.user),a(((F=C.user.user_metadata)==null?void 0:F.full_name)||""),o((($=C.user.user_metadata)==null?void 0:$.bio)||""),i(((H=C.user.user_metadata)==null?void 0:H.location)||""))})()},[p]);const y=async()=>{const{error:b}=await x.auth.signOut();b?alert(b.message):(alert("Logged out successfully!"),p("/"))},v=async()=>{var F;u(!0);let b=(F=r.user_metadata)==null?void 0:F.avatar_url;if(l){const $=`avatar-${r.id}-${Date.now()}.png`,{error:H}=await x.storage.from("avatars").upload($,l,{upsert:!0});if(H)alert("Error uploading avatar: "+H.message);else{const{data:ve}=x.storage.from("avatars").getPublicUrl($);b=ve.publicUrl}}const{data:C,error:O}=await x.auth.updateUser({data:{full_name:n,bio:s,location:c,avatar_url:b}});u(!1),O?alert("Error updating profile: "+O.message):C&&(await x.auth.refreshSession(),t(C.user),alert("Profile updated!"),m(!1),d(null))};return r?e.jsxs("div",{className:"profile-container",children:[e.jsx("h1",{children:"Your Profile"}),e.jsxs("div",{className:"profile-header",children:[e.jsx("img",{src:l?URL.createObjectURL(l):((E=r.user_metadata)==null?void 0:E.avatar_url)||"https://via.placeholder.com/100",alt:"avatar",className:"profile-avatar"}),!g&&e.jsx("h2",{className:"profile-name",children:n})]}),g?e.jsxs("div",{className:"profile-form",children:[e.jsxs("label",{children:["Display Name:",e.jsx("input",{type:"text",value:n,onChange:b=>a(b.target.value)})]}),e.jsxs("label",{children:["Bio:",e.jsx("textarea",{value:s,onChange:b=>o(b.target.value)})]}),e.jsxs("label",{children:["Location:",e.jsx("input",{type:"text",value:c,onChange:b=>i(b.target.value)})]}),e.jsxs("label",{children:["Upload Avatar:",e.jsx("input",{type:"file",accept:"image/*",onChange:b=>d(b.target.files[0])})]}),e.jsxs("div",{className:"profile-actions",children:[e.jsx("button",{className:"save",onClick:v,disabled:h,children:h?"Saving...":"Save Changes"}),e.jsx("button",{onClick:()=>m(!1),children:"Cancel"})]})]}):e.jsxs("div",{className:"profile-actions",children:[e.jsx("button",{className:"edit",onClick:()=>m(!0),children:"Edit Profile"}),e.jsx("button",{className:"logout",onClick:y,children:"Logout"})]})]}):e.jsx("p",{children:"Loading profile..."})}function Re({articleId:r}){const[t,n]=f.useState([]),[a,s]=f.useState("");f.useEffect(()=>{(async()=>{const{data:i,error:l}=await x.from("comments").select("* ").eq("article_id",r).order("created_at",{ascending:!1});i&&n(i),l&&console.error("Error fetching comments:",l)})()},[r]);const o=async c=>{if(c.preventDefault(),a.trim()){const{data:i,error:l}=await x.from("comments").insert([{text:a,article_id:r}]).single();i?(n([i,...t]),s("")):console.error("Error posting comment:",l)}};return e.jsxs("div",{className:"comment-section",children:[e.jsx("h3",{children:"Comments"}),e.jsxs("form",{onSubmit:o,children:[e.jsx("textarea",{value:a,onChange:c=>s(c.target.value),placeholder:"Write your comment..."}),e.jsx("button",{type:"submit",children:"Post"})]}),e.jsx("ul",{children:t.map(c=>e.jsxs("li",{children:[e.jsx("p",{children:c.text}),e.jsx("small",{children:new Date(c.created_at).toLocaleString()})]},c.id))})]})}function Ie({articleId:r}){const[t,n]=f.useState(0);f.useEffect(()=>{(async()=>{const{data:o,error:c}=await x.from("likes").select("like_count").eq("article_id",r).single();if(o)n(o.like_count);else if(c&&c.code==="PGRST116"){const{data:i,error:l}=await x.from("likes").insert({article_id:r,like_count:0}).single();i&&n(i.like_count),l&&console.error("Error creating like entry:",l)}else c&&console.error("Error fetching likes:",c)})()},[r]);const a=async()=>{const s=t+1;n(s);const{error:o}=await x.from("likes").update({like_count:s}).eq("article_id",r);o&&(console.error("Error updating likes:",o),n(t))};return e.jsxs("button",{className:"like-button",onClick:a,children:["üëç Like (",t,")"]})}function De({url:r,title:t}){const n=t?`${t} 

${r}`:r;return e.jsxs("div",{className:"share-buttons",children:[e.jsx("h4",{children:"Share this article"}),e.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${r}`,target:"_blank",rel:"noreferrer",children:"Facebook"}),e.jsx("a",{href:`https://twitter.com/intent/tweet?url=${r}&text=${encodeURIComponent(t||"")}`,target:"_blank",rel:"noreferrer",children:"Twitter"}),e.jsx("a",{href:`https://wa.me/?text=${encodeURIComponent(n)}`,target:"_blank",rel:"noreferrer",children:"WhatsApp"})]})}function Ue(){const[r,t]=f.useState(""),[n,a]=f.useState(!1),[s,o]=f.useState(null);f.useEffect(()=>{(async()=>{const{data:l,error:d}=await x.auth.getUser();d?console.error("Error fetching user:",d.message):o(l.user)})()},[]);const c=async i=>{i.preventDefault(),s&&r.includes("@")&&a(!0)};return s?e.jsxs("div",{className:"subscribe-form",children:[e.jsx("h4",{children:"Subscribe for updates"}),n?e.jsx("p",{children:"Thanks for subscribing!"}):e.jsxs("form",{onSubmit:c,children:[e.jsx("input",{type:"email",placeholder:"Your email",value:r,onChange:i=>t(i.target.value),required:!0}),e.jsx("button",{type:"submit",children:"Subscribe"})]})]}):e.jsxs("div",{className:"subscribe-form",children:[e.jsx("h4",{children:"Subscribe for updates"}),e.jsxs("p",{children:["Please ",e.jsx("a",{href:"/login",children:"log in"})," to subscribe."]})]})}function Me(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var fe=f,Fe=Me(fe);function te(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function $e(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var He=!!(typeof window<"u"&&window.document&&window.document.createElement);function Be(r,t,n){if(typeof r!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function a(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var c=[],i;function l(){i=r(c.map(function(h){return h.props})),d.canUseDOM?t(i):n&&(i=n(i))}var d=function(h){$e(u,h);function u(){return h.apply(this,arguments)||this}u.peek=function(){return i},u.rewind=function(){if(u.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var p=i;return i=void 0,c=[],p};var g=u.prototype;return g.UNSAFE_componentWillMount=function(){c.push(this),l()},g.componentDidUpdate=function(){l()},g.componentWillUnmount=function(){var p=c.indexOf(this);c.splice(p,1),l()},g.render=function(){return Fe.createElement(o,this.props)},u}(fe.PureComponent);return te(d,"displayName","SideEffect("+a(o)+")"),te(d,"canUseDOM",He),d}}var qe=Be;const ze=J(qe);var Ye=typeof Element<"u",Ge=typeof Map=="function",We=typeof Set=="function",Ve=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Y(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,a,s;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!Y(r[a],t[a]))return!1;return!0}var o;if(Ge&&r instanceof Map&&t instanceof Map){if(r.size!==t.size)return!1;for(o=r.entries();!(a=o.next()).done;)if(!t.has(a.value[0]))return!1;for(o=r.entries();!(a=o.next()).done;)if(!Y(a.value[1],t.get(a.value[0])))return!1;return!0}if(We&&r instanceof Set&&t instanceof Set){if(r.size!==t.size)return!1;for(o=r.entries();!(a=o.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(Ve&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(t)){if(n=r.length,n!=t.length)return!1;for(a=n;a--!==0;)if(r[a]!==t[a])return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof t.valueOf=="function")return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof t.toString=="function")return r.toString()===t.toString();if(s=Object.keys(r),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[a]))return!1;if(Ye&&r instanceof Element)return!1;for(a=n;a--!==0;)if(!((s[a]==="_owner"||s[a]==="__v"||s[a]==="__o")&&r.$$typeof)&&!Y(r[s[a]],t[s[a]]))return!1;return!0}return r!==r&&t!==t}var Ze=function(t,n){try{return Y(t,n)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const Ke=J(Ze);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var re=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;function Je(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function et(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var a=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(a.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var tt=et()?Object.assign:function(r,t){for(var n,a=Je(r),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var c in n)Xe.call(n,c)&&(a[c]=n[c]);if(re){s=re(n);for(var i=0;i<s.length;i++)Qe.call(n,s[i])&&(a[s[i]]=n[s[i]])}}return a};const rt=J(tt);var I={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},j={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(j).map(function(r){return j[r]});var w={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},G={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},z={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},nt=Object.keys(G).reduce(function(r,t){return r[G[t]]=t,r},{}),at=[j.NOSCRIPT,j.SCRIPT,j.STYLE],L="data-react-helmet",st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},it=function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")},ot=function(){function r(t,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,a){return n&&r(t.prototype,n),a&&r(t,a),t}}(),N=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},lt=function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)},ne=function(r,t){var n={};for(var a in r)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a]);return n},ct=function(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:r},K=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},dt=function(t){var n=U(t,j.TITLE),a=U(t,z.TITLE_TEMPLATE);if(a&&n)return a.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=U(t,z.DEFAULT_TITLE);return n||s||void 0},ut=function(t){return U(t,z.ON_CHANGE_CLIENT_STATE)||function(){}},Z=function(t,n){return n.filter(function(a){return typeof a[t]<"u"}).map(function(a){return a[t]}).reduce(function(a,s){return N({},a,s)},{})},ht=function(t,n){return n.filter(function(a){return typeof a[j.BASE]<"u"}).map(function(a){return a[j.BASE]}).reverse().reduce(function(a,s){if(!a.length)for(var o=Object.keys(s),c=0;c<o.length;c++){var i=o[c],l=i.toLowerCase();if(t.indexOf(l)!==-1&&s[l])return a.concat(s)}return a},[])},B=function(t,n,a){var s={};return a.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&pt("Helmet: "+t+' should be of type "Array". Instead found type "'+st(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,c){var i={};c.filter(function(g){for(var m=void 0,p=Object.keys(g),y=0;y<p.length;y++){var v=p[y],E=v.toLowerCase();n.indexOf(E)!==-1&&!(m===w.REL&&g[m].toLowerCase()==="canonical")&&!(E===w.REL&&g[E].toLowerCase()==="stylesheet")&&(m=E),n.indexOf(v)!==-1&&(v===w.INNER_HTML||v===w.CSS_TEXT||v===w.ITEM_PROP)&&(m=v)}if(!m||!g[m])return!1;var b=g[m].toLowerCase();return s[m]||(s[m]={}),i[m]||(i[m]={}),s[m][b]?!1:(i[m][b]=!0,!0)}).reverse().forEach(function(g){return o.push(g)});for(var l=Object.keys(i),d=0;d<l.length;d++){var h=l[d],u=rt({},s[h],i[h]);s[h]=u}return o},[]).reverse()},U=function(t,n){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s.hasOwnProperty(n))return s[n]}return null},ft=function(t){return{baseTag:ht([w.HREF,w.TARGET],t),bodyAttributes:Z(I.BODY,t),defer:U(t,z.DEFER),encode:U(t,z.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Z(I.HTML,t),linkTags:B(j.LINK,[w.REL,w.HREF],t),metaTags:B(j.META,[w.NAME,w.CHARSET,w.HTTPEQUIV,w.PROPERTY,w.ITEM_PROP],t),noscriptTags:B(j.NOSCRIPT,[w.INNER_HTML],t),onChangeClientState:ut(t),scriptTags:B(j.SCRIPT,[w.SRC,w.INNER_HTML],t),styleTags:B(j.STYLE,[w.CSS_TEXT],t),title:dt(t),titleAttributes:Z(I.TITLE,t)}},X=function(){var r=Date.now();return function(t){var n=Date.now();n-r>16?(r=n,t(n)):setTimeout(function(){X(t)},0)}}(),ae=function(t){return clearTimeout(t)},mt=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||X:global.requestAnimationFrame||X,gt=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ae:global.cancelAnimationFrame||ae,pt=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},q=null,jt=function(t){q&&gt(q),t.defer?q=mt(function(){se(t,function(){q=null})}):(se(t),q=null)},se=function(t,n){var a=t.baseTag,s=t.bodyAttributes,o=t.htmlAttributes,c=t.linkTags,i=t.metaTags,l=t.noscriptTags,d=t.onChangeClientState,h=t.scriptTags,u=t.styleTags,g=t.title,m=t.titleAttributes;Q(j.BODY,s),Q(j.HTML,o),xt(g,m);var p={baseTag:D(j.BASE,a),linkTags:D(j.LINK,c),metaTags:D(j.META,i),noscriptTags:D(j.NOSCRIPT,l),scriptTags:D(j.SCRIPT,h),styleTags:D(j.STYLE,u)},y={},v={};Object.keys(p).forEach(function(E){var b=p[E],C=b.newTags,O=b.oldTags;C.length&&(y[E]=C),O.length&&(v[E]=p[E].oldTags)}),n&&n(),d(t,y,v)},me=function(t){return Array.isArray(t)?t.join(""):t},xt=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=me(t)),Q(j.TITLE,n)},Q=function(t,n){var a=document.getElementsByTagName(t)[0];if(a){for(var s=a.getAttribute(L),o=s?s.split(","):[],c=[].concat(o),i=Object.keys(n),l=0;l<i.length;l++){var d=i[l],h=n[d]||"";a.getAttribute(d)!==h&&a.setAttribute(d,h),o.indexOf(d)===-1&&o.push(d);var u=c.indexOf(d);u!==-1&&c.splice(u,1)}for(var g=c.length-1;g>=0;g--)a.removeAttribute(c[g]);o.length===c.length?a.removeAttribute(L):a.getAttribute(L)!==i.join(",")&&a.setAttribute(L,i.join(","))}},D=function(t,n){var a=document.head||document.querySelector(j.HEAD),s=a.querySelectorAll(t+"["+L+"]"),o=Array.prototype.slice.call(s),c=[],i=void 0;return n&&n.length&&n.forEach(function(l){var d=document.createElement(t);for(var h in l)if(l.hasOwnProperty(h))if(h===w.INNER_HTML)d.innerHTML=l.innerHTML;else if(h===w.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=l.cssText:d.appendChild(document.createTextNode(l.cssText));else{var u=typeof l[h]>"u"?"":l[h];d.setAttribute(h,u)}d.setAttribute(L,"true"),o.some(function(g,m){return i=m,d.isEqualNode(g)})?o.splice(i,1):c.push(d)}),o.forEach(function(l){return l.parentNode.removeChild(l)}),c.forEach(function(l){return a.appendChild(l)}),{oldTags:o,newTags:c}},ge=function(t){return Object.keys(t).reduce(function(n,a){var s=typeof t[a]<"u"?a+'="'+t[a]+'"':""+a;return n?n+" "+s:s},"")},vt=function(t,n,a,s){var o=ge(a),c=me(n);return o?"<"+t+" "+L+'="true" '+o+">"+K(c,s)+"</"+t+">":"<"+t+" "+L+'="true">'+K(c,s)+"</"+t+">"},yt=function(t,n,a){return n.reduce(function(s,o){var c=Object.keys(o).filter(function(d){return!(d===w.INNER_HTML||d===w.CSS_TEXT)}).reduce(function(d,h){var u=typeof o[h]>"u"?h:h+'="'+K(o[h],a)+'"';return d?d+" "+u:u},""),i=o.innerHTML||o.cssText||"",l=at.indexOf(t)===-1;return s+"<"+t+" "+L+'="true" '+c+(l?"/>":">"+i+"</"+t+">")},"")},pe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,s){return a[G[s]||s]=t[s],a},n)},bt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,s){return a[nt[s]||s]=t[s],a},n)},Tt=function(t,n,a){var s,o=(s={key:n},s[L]=!0,s),c=pe(a,o);return[A.createElement(j.TITLE,c,n)]},wt=function(t,n){return n.map(function(a,s){var o,c=(o={key:s},o[L]=!0,o);return Object.keys(a).forEach(function(i){var l=G[i]||i;if(l===w.INNER_HTML||l===w.CSS_TEXT){var d=a.innerHTML||a.cssText;c.dangerouslySetInnerHTML={__html:d}}else c[l]=a[i]}),A.createElement(t,c)})},k=function(t,n,a){switch(t){case j.TITLE:return{toComponent:function(){return Tt(t,n.title,n.titleAttributes)},toString:function(){return vt(t,n.title,n.titleAttributes,a)}};case I.BODY:case I.HTML:return{toComponent:function(){return pe(n)},toString:function(){return ge(n)}};default:return{toComponent:function(){return wt(t,n)},toString:function(){return yt(t,n,a)}}}},je=function(t){var n=t.baseTag,a=t.bodyAttributes,s=t.encode,o=t.htmlAttributes,c=t.linkTags,i=t.metaTags,l=t.noscriptTags,d=t.scriptTags,h=t.styleTags,u=t.title,g=u===void 0?"":u,m=t.titleAttributes;return{base:k(j.BASE,n,s),bodyAttributes:k(I.BODY,a,s),htmlAttributes:k(I.HTML,o,s),link:k(j.LINK,c,s),meta:k(j.META,i,s),noscript:k(j.NOSCRIPT,l,s),script:k(j.SCRIPT,d,s),style:k(j.STYLE,h,s),title:k(j.TITLE,{title:g,titleAttributes:m},s)}},St=function(t){var n,a;return a=n=function(s){lt(o,s);function o(){return it(this,o),ct(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(i){return!Ke(this.props,i)},o.prototype.mapNestedChildrenToProps=function(i,l){if(!l)return null;switch(i.type){case j.SCRIPT:case j.NOSCRIPT:return{innerHTML:l};case j.STYLE:return{cssText:l}}throw new Error("<"+i.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(i){var l,d=i.child,h=i.arrayTypeChildren,u=i.newChildProps,g=i.nestedChildren;return N({},h,(l={},l[d.type]=[].concat(h[d.type]||[],[N({},u,this.mapNestedChildrenToProps(d,g))]),l))},o.prototype.mapObjectTypeChildren=function(i){var l,d,h=i.child,u=i.newProps,g=i.newChildProps,m=i.nestedChildren;switch(h.type){case j.TITLE:return N({},u,(l={},l[h.type]=m,l.titleAttributes=N({},g),l));case j.BODY:return N({},u,{bodyAttributes:N({},g)});case j.HTML:return N({},u,{htmlAttributes:N({},g)})}return N({},u,(d={},d[h.type]=N({},g),d))},o.prototype.mapArrayTypeChildrenToProps=function(i,l){var d=N({},l);return Object.keys(i).forEach(function(h){var u;d=N({},d,(u={},u[h]=i[h],u))}),d},o.prototype.warnOnInvalidChildren=function(i,l){return!0},o.prototype.mapChildrenToProps=function(i,l){var d=this,h={};return A.Children.forEach(i,function(u){if(!(!u||!u.props)){var g=u.props,m=g.children,p=ne(g,["children"]),y=bt(p);switch(d.warnOnInvalidChildren(u,m),u.type){case j.LINK:case j.META:case j.NOSCRIPT:case j.SCRIPT:case j.STYLE:h=d.flattenArrayTypeChildren({child:u,arrayTypeChildren:h,newChildProps:y,nestedChildren:m});break;default:l=d.mapObjectTypeChildren({child:u,newProps:l,newChildProps:y,nestedChildren:m});break}}}),l=this.mapArrayTypeChildrenToProps(h,l),l},o.prototype.render=function(){var i=this.props,l=i.children,d=ne(i,["children"]),h=N({},d);return l&&(h=this.mapChildrenToProps(l,h)),A.createElement(t,h)},ot(o,null,[{key:"canUseDOM",set:function(i){t.canUseDOM=i}}]),o}(A.Component),n.propTypes={base:T.object,bodyAttributes:T.object,children:T.oneOfType([T.arrayOf(T.node),T.node]),defaultTitle:T.string,defer:T.bool,encodeSpecialCharacters:T.bool,htmlAttributes:T.object,link:T.arrayOf(T.object),meta:T.arrayOf(T.object),noscript:T.arrayOf(T.object),onChangeClientState:T.func,script:T.arrayOf(T.object),style:T.arrayOf(T.object),title:T.string,titleAttributes:T.object,titleTemplate:T.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var s=t.rewind();return s||(s=je({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},a},Et=function(){return null},Nt=ze(ft,jt,je)(Et),M=St(Nt);M.renderStatic=M.rewind;const At=({related:r})=>{if(!r||r.length===0)return null;const t=n=>{n.target.src="/images/placeholder.png"};return e.jsxs("aside",{className:"related-articles","aria-label":"Related articles",children:[e.jsx("h3",{children:"Related Articles"}),e.jsx("div",{className:"related-grid",children:r.map(n=>e.jsx("article",{className:"related-card",children:e.jsxs(S,{to:`/articles/${n.slug}`,className:"related-link",children:[n.image_url&&e.jsx("img",{src:n.image_url,alt:n.title||"Related article image",className:"related-thumb",loading:"lazy",onError:t}),e.jsxs("div",{className:"related-card-content",children:[n.badge&&e.jsx("span",{className:`badge ${n.badge}`,children:n.badge}),e.jsx("h4",{className:"related-title",children:n.title})]})]})},n.id))})]})};function Ct(){const[r,t]=f.useState([]),[n,a]=f.useState(null);return f.useEffect(()=>{(async()=>{const{data:o,error:c}=await x.from("articles").select("id, title, slug, image_url, category").eq("trending",!0).order("created_at",{ascending:!1}).limit(5);c?a(c.message):t(o||[])})()},[]),n?e.jsxs("p",{className:"error",children:["Failed to load trending: ",n]}):e.jsxs("aside",{className:"trending-sidebar","aria-label":"Trending articles",children:[e.jsx("h2",{children:"Trending Now"}),r.length===0&&e.jsx("p",{children:"No trending articles yet."}),e.jsx("ul",{className:"trending-list",children:r.map(s=>e.jsx("li",{className:"trending-item",children:e.jsx("article",{className:"trending-card",children:e.jsxs(S,{to:`/articles/${s.slug}`,className:"trending-link",children:[s.image_url&&e.jsx("img",{src:s.image_url,alt:s.title||"Trending article image",loading:"lazy",className:"trending-thumb"}),e.jsxs("div",{className:"trending-info",children:[e.jsx("h3",{className:"trending-title",children:s.title}),s.category&&e.jsx("span",{className:"category",children:s.category})]})]})})},s.id))})]})}function _t(){const{slug:r}=V(),[t,n]=f.useState(null),[a,s]=f.useState([]),[o,c]=f.useState(null),[i,l]=f.useState(!1),[d,h]=f.useState(!1),[u,g]=f.useState(!1);if(f.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const{data:y,error:v}=await x.from("articles").select("*").eq("slug",r).single();if(v)c(v.message);else{n(y);const{data:E}=await x.from("articles").select("id, title, slug, badge, image_url").eq("category",y.category).neq("slug",r).limit(3);s(E||[])}})()},[r]),!t&&!o)return e.jsx("p",{className:"loading",children:"Loading article..."});if(o)return e.jsxs("p",{className:"error",children:["Failed to load article: ",o]});const m=(p="")=>{const y=p.trim().split(/\s+/).filter(Boolean).length;return Math.ceil(y/200)};return e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsxs("title",{children:[t.title," | Zawadi Intel News"]}),e.jsx("meta",{name:"description",content:t.content.slice(0,150)}),e.jsx("meta",{name:"keywords",content:Array.isArray(t.tags)?t.tags.join(", "):"news, Kenya, Africa"}),e.jsx("link",{rel:"canonical",href:`https://zawadiintelnews.vercel.app/articles/${r}`})]}),e.jsxs("main",{className:"article-layout",children:[e.jsx("div",{className:"article-content",children:e.jsxs("article",{className:"news-article",children:[e.jsxs("header",{className:"article-header",children:[t.badge&&e.jsx("span",{className:`badge ${t.badge}`,children:t.badge}),e.jsx("h1",{children:t.title}),t.subtitle&&e.jsx("h2",{className:"subtitle",children:t.subtitle}),e.jsxs("div",{className:"article-meta",children:[t.author&&e.jsxs("span",{className:"author",children:["By ",e.jsx("a",{href:`/author/${t.author}`,children:t.author})]}),t.dateline&&e.jsx("span",{className:"dateline",children:t.dateline}),t.category&&e.jsxs("span",{className:"category",children:["Category: ",e.jsx("a",{href:`/category/${t.category}`,children:t.category})]}),e.jsxs("span",{className:"published",children:["Published: ",new Date(t.created_at).toLocaleString()]}),t.updated_at&&e.jsxs("span",{className:"updated",children:["Updated: ",new Date(t.updated_at).toLocaleString()]}),e.jsxs("span",{className:"reading-time",children:[m(t.content)," min read"]}),t.verified&&e.jsx("span",{className:"badge verified",children:"Fact‚ÄëChecked"})]})]}),t.image_url&&e.jsxs("figure",{className:"hero-image",children:[e.jsx("img",{src:t.image_url,alt:t.title,className:"article-image",loading:"lazy"}),t.image_caption&&e.jsx("figcaption",{className:"caption",children:t.image_caption})]}),e.jsxs("div",{className:"article-engagement",children:[e.jsx("span",{className:"engagement-link",onClick:()=>l(!i),children:"üëç Like"}),e.jsx("span",{className:"engagement-link",onClick:()=>h(!d),children:"üîó Share"}),e.jsx("span",{className:"engagement-link",onClick:()=>g(!u),children:"üí¨ Comment"}),i&&e.jsx(Ie,{}),d&&e.jsx(De,{url:`https://zawadiintelnews.vercel.app/articles/${r}`}),u&&e.jsx(Re,{})]}),e.jsx("div",{className:"article-body",children:e.jsx(ce,{remarkPlugins:[de],children:t.content})}),e.jsx(Ue,{}),e.jsx(At,{related:a}),Array.isArray(t.tags)&&e.jsx("div",{className:"tags",children:t.tags.map(p=>e.jsxs("a",{href:`/tag/${p}`,className:"tag-link",children:["#",p]},p))})]})}),e.jsx(Ct,{})]})]})}const Pt=()=>{const{tagName:r}=V(),[t,n]=f.useState([]),[a,s]=f.useState(!0),[o,c]=f.useState(null);return f.useEffect(()=>{(async()=>{s(!0);const{data:l,error:d}=await x.from("articles").select("*").eq("published",!0).contains("tags",[r]);d?c("Failed to load articles."):n(l||[]),s(!1)})()},[r]),e.jsxs("section",{className:"tag-page",children:[e.jsxs("h2",{children:['Articles tagged with "',r,'"']}),a&&e.jsx("p",{children:"Loading..."}),o&&e.jsx("p",{className:"error",children:o}),!a&&!o&&t.length===0&&e.jsx("p",{children:"No articles found for this tag."}),e.jsx("ul",{className:"tag-articles",children:t.map(i=>{var l;return e.jsxs("li",{className:"tag-article",children:[e.jsx("a",{href:`/articles/${i.slug||i.id}`,children:e.jsx("h3",{children:i.title})}),e.jsxs("p",{children:[(l=i.content)==null?void 0:l.slice(0,120),"..."]}),e.jsx("time",{dateTime:i.created_at,children:new Date(i.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]},i.id)})})]})},xe=({category:r})=>{const[t,n]=f.useState([]),[a,s]=f.useState([]),[o,c]=f.useState([]),[i,l]=f.useState([]);f.useEffect(()=>{(async()=>{let g=x.from("articles").select("*").eq("published",!0).order("created_at",{ascending:!1});if(r){g=g.eq("category",r);const{data:m,error:p}=await g;p?console.error(`Error fetching ${r} articles:`,p.message):n(m)}else{const{data:m,error:p}=await g;if(p){console.error("Error fetching all articles:",p.message);return}s(m.filter(y=>y.category==="global")),c(m.filter(y=>y.category==="africa")),l(m.filter(y=>y.category==="local"))}})()},[r]);const d=u=>{if(!u||u.length===0)return[null,[]];const[g,...m]=u;return[g,m]},h=(u,g,m)=>{const[p,y]=d(u);return p?e.jsxs("div",{className:m,children:[e.jsx("h2",{children:g}),e.jsxs("div",{className:"featuredLayout",children:[e.jsxs("article",{className:"mainStory",children:[p.image_url&&e.jsx("div",{className:"mainImage",children:e.jsx("a",{href:`/articles/${p.slug||p.id}`,children:e.jsx("img",{src:p.image_url,alt:p.title,loading:"lazy"})})}),e.jsxs("div",{className:"mainContent",children:[e.jsx("h3",{className:"mainTitle",children:e.jsx("a",{href:`/articles/${p.slug||p.id}`,children:p.title})}),e.jsx("div",{className:"mainExcerpt",children:e.jsx(ce,{remarkPlugins:[de],children:p.content?`${p.content.slice(0,160)}...`:""})}),e.jsx("time",{className:"storyDate",dateTime:p.created_at,children:new Date(p.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx("div",{className:"sideStories",children:y.map(v=>e.jsxs("article",{className:"sideCard",children:[e.jsxs("div",{className:"sideContent",children:[e.jsx("h4",{className:"sideTitle",children:e.jsx("a",{href:`/articles/${v.slug||v.id}`,children:v.title})}),e.jsx("time",{className:"storyDate",dateTime:v.created_at,children:new Date(v.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),v.image_url&&e.jsx("div",{className:"sideImage",children:e.jsx("a",{href:`/articles/${v.slug||v.id}`,children:e.jsx("img",{src:v.image_url,alt:v.title,loading:"lazy"})})})]},v.id))})]})]}):e.jsxs("div",{className:m,children:[e.jsx("h2",{children:g}),e.jsx("p",{children:"No articles found in this category at the moment."})]})};if(r){const u=r.charAt(0).toUpperCase()+r.slice(1);let g=`${r}-row`;return r==="africa"&&(g="african-row"),e.jsx("div",{className:"aj-container",children:e.jsx("section",{className:"single-row-layout",children:h(t,u,g)})})}return e.jsx("div",{className:"aj-container",children:e.jsxs("section",{className:"three-row-layout",children:[h(a,"Global News","global-row"),h(o,"Across Africa","african-row"),h(i,"Local Lens","local-row")]})})},Lt=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),Ot=f.lazy(()=>R(()=>import("./KenyaUpdate-_6jcmuNS.js"),__vite__mapDeps([0,1,2,3])));function kt(){const{category:r}=V(),t=r.charAt(0).toUpperCase()+r.slice(1);return e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsxs("title",{children:[t," News | Zawadi Intel News"]}),e.jsx("meta",{name:"description",content:`Latest ${t} news and updates from Zawadi Intel News.`}),e.jsx("link",{rel:"canonical",href:`https://zawadiintelnews.vercel.app/category/${r}`})]}),e.jsxs("main",{className:"category-page",children:[r.toLowerCase()==="local"&&e.jsx(f.Suspense,{fallback:e.jsx("div",{className:"loading",children:"Loading Kenya Update..."}),children:e.jsx(Ot,{})}),e.jsx(xe,{category:r})]})]})}function Rt(){const{name:r}=V(),[t,n]=f.useState([]),[a,s]=f.useState(null),[o,c]=f.useState(null);return f.useEffect(()=>{(async()=>{const{data:l}=await x.from("authors").select("*").eq("name",r).single();s(l||{name:r});const{data:d,error:h}=await x.from("articles").select("id, title, subtitle, slug, image_url, badge, created_at, category").eq("author",r).order("created_at",{ascending:!1});h?c(h.message):n(d||[])})()},[r]),o?e.jsxs("p",{className:"error",children:["Failed to load author: ",o]}):t.length?e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsxs("title",{children:[r," | Zawadi Intel News"]}),e.jsx("meta",{name:"description",content:`Articles written by ${r} on Zawadi Intel News.`}),e.jsx("link",{rel:"canonical",href:`https://zawadiintelnews.vercel.app/author/${r}`})]}),e.jsx(ue,{}),e.jsxs("main",{className:"author-page",children:[e.jsxs("section",{className:"author-profile",children:[e.jsx("h1",{children:a==null?void 0:a.name}),(a==null?void 0:a.bio)&&e.jsx("p",{className:"bio",children:a.bio}),(a==null?void 0:a.avatar_url)&&e.jsx("img",{src:a.avatar_url,alt:a.name,className:"author-avatar",loading:"lazy"})]}),e.jsxs("h2",{children:["Articles by ",a==null?void 0:a.name]}),e.jsx("div",{className:"author-grid",children:t.map(i=>e.jsxs("article",{className:"author-card",children:[i.image_url&&e.jsx("img",{src:i.image_url,alt:i.title,className:"author-thumb",loading:"lazy"}),e.jsx("h3",{children:e.jsx(S,{to:`/articles/${i.slug}`,children:i.title})}),i.subtitle&&e.jsx("p",{className:"subtitle",children:i.subtitle}),e.jsxs("div",{className:"meta",children:[i.badge&&e.jsx("span",{className:`badge ${i.badge}`,children:i.badge}),e.jsx("span",{className:"category",children:i.category}),e.jsx("span",{className:"date",children:new Date(i.created_at).toLocaleDateString()})]})]},i.id))})]}),e.jsx(he,{})]}):e.jsxs("p",{className:"loading",children:["No articles found for ",r,"."]})}function It(){return e.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[e.jsx("h1",{children:"‚ùå Page not found"}),e.jsx("p",{children:"We couldn‚Äôt find what you were looking for."}),e.jsx("a",{href:"/",children:"Go back home"})]})}function Dt(){const[r,t]=f.useState([]),[n,a]=f.useState(null);return f.useEffect(()=>{(async()=>{const{data:o,error:c}=await x.from("articles").select("id, title, slug, image_url, category, created_at").eq("trending",!0).order("created_at",{ascending:!1}).limit(6);c?a(c.message):t(o||[])})()},[]),n?e.jsxs("p",{className:"error",children:["Failed to load trending: ",n]}):e.jsxs("aside",{className:"trending-sidebar",children:[e.jsx("h2",{className:"trending-heading",children:"Trending"}),r.length===0&&e.jsx("p",{children:"No trending articles yet."}),e.jsx("ul",{className:"trending-list",children:r.map(s=>e.jsx("li",{className:"trending-item",children:e.jsxs(S,{to:`/articles/${s.slug}`,className:"trending-link",children:[s.image_url&&e.jsx("div",{className:"thumb-wrapper",children:e.jsx("img",{src:s.image_url,alt:s.title||"Trending article image",loading:"lazy",className:"trending-thumb"})}),e.jsxs("div",{className:"trending-info",children:[e.jsx("span",{className:"category",children:s.category}),e.jsx("h3",{className:"trending-title",children:s.title})]})]})},s.id))})]})}function Ut(){const[r]=be(),[t,n]=f.useState([]),[a,s]=f.useState(!0),[o,c]=f.useState(null),i=r.get("q");return f.useEffect(()=>{(async()=>{if(!i){n([]),s(!1);return}s(!0),c(null);try{const{data:d,error:h}=await x.from("articles").select("*").textSearch("title",`'${i}'`);if(h)throw h;n(d||[])}catch(d){c("Could not fetch search results."),console.error(d)}finally{s(!1)}})()},[i]),e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsx("title",{children:`Search results for "${i}"`}),e.jsx("meta",{name:"description",content:`Search results for "${i}" on Zawadi Intel News.`})]}),e.jsxs("main",{className:"search-page",children:[e.jsxs("h1",{className:"search-title",children:["Search Results for: ",e.jsxs("span",{children:['"',i,'"']})]}),a&&e.jsx("div",{className:"loading",children:"Searching..."}),o&&e.jsx("div",{className:"error",children:o}),!a&&!o&&e.jsx("div",{className:"search-results-grid",children:t.length>0?t.map(l=>e.jsx("div",{className:"search-result-card",children:e.jsxs(S,{to:`/articles/${l.slug}`,className:"search-result-link",children:[e.jsx("img",{src:l.image_url,alt:l.title,className:"search-result-thumb",loading:"lazy"}),e.jsxs("div",{className:"search-result-content",children:[e.jsx("h2",{className:"search-result-article-title",children:l.title}),e.jsx("p",{className:"subtitle",children:l.subtitle})]})]})},l.id)):e.jsx("p",{className:"no-results",children:"No articles found matching your search."})})]})]})}const Mt=()=>e.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{children:"About Zawadi Intel News"}),e.jsx("p",{children:"Zawadi Intel News is a visionary platform born in Africa, built to connect local realities with global narratives. We deliver breaking stories, layered analysis, and thoughtful commentary that resonate both regionally and internationally."}),e.jsx("p",{children:"Our mission is to empower communities with credible information, elevate African perspectives in global discourse, and uphold newsroom standards that rival the world‚Äôs best. Every headline, feature, and opinion piece is crafted with clarity, empathy, and impact."}),e.jsx("p",{children:"Guided by innovation and cultural fluency, we blend modern technology with editorial excellence to ensure our readers experience news that is timely, trustworthy, and transformative."})]}),Ft=A.lazy(()=>R(()=>import("./InstallBanner-dsv-Onow.js"),__vite__mapDeps([4,1,2,3]))),$t=A.lazy(()=>R(()=>import("./NewsTicker-CIdCZtCP.js"),__vite__mapDeps([5,1,2,3]))),Ht=A.lazy(()=>R(()=>import("./FeaturedStories-CTcHju5S.js"),__vite__mapDeps([6,1,2,3,7]))),Bt=A.lazy(()=>R(()=>import("./KenyaUpdate-_6jcmuNS.js"),__vite__mapDeps([0,1,2,3]))),qt=A.lazy(()=>R(()=>Promise.resolve().then(()=>Lt),void 0)),zt=A.lazy(()=>R(()=>import("./OpinionSection-BgUcEWqz.js"),__vite__mapDeps([8,1,2,3,9]))),Yt=A.lazy(()=>R(()=>import("./BottomHub-UAh6kWuh.js"),__vite__mapDeps([10,1,2,3])));function Gt(){return e.jsxs(f.Suspense,{fallback:e.jsx("div",{className:"loader",children:"Loading homepage..."}),children:[e.jsx(Ft,{}),e.jsx($t,{}),e.jsx(Ht,{}),e.jsx(Bt,{}),e.jsx(qt,{}),e.jsx(zt,{}),e.jsx(Yt,{})]})}function P({children:r}){return e.jsxs(e.Fragment,{children:[e.jsxs("header",{children:[e.jsx(ue,{}),e.jsx(Pe,{})]}),e.jsx("main",{children:r}),e.jsx(he,{})]})}class Wt extends A.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){return this.state.hasError?e.jsx("h2",{children:"Something went wrong. Please refresh the page."}):this.props.children}}function Vt(){return e.jsxs(e.Fragment,{children:[e.jsx(_e,{}),e.jsx(Wt,{children:e.jsxs(Te,{children:[e.jsx(_,{path:"/",element:e.jsx(P,{children:e.jsx(Gt,{})})}),e.jsx(_,{path:"/admin",element:e.jsx(P,{children:e.jsx(Le,{children:e.jsx(we,{})})})}),e.jsx(_,{path:"/login",element:e.jsx(P,{children:e.jsx(Oe,{})})}),e.jsx(_,{path:"/profile",element:e.jsx(P,{children:e.jsx(ke,{})})}),e.jsx(_,{path:"/articles/:slug",element:e.jsx(P,{children:e.jsx(_t,{})})}),e.jsx(_,{path:"/tags/:tagName",element:e.jsx(P,{children:e.jsx(Pt,{})})}),e.jsx(_,{path:"/category/:category",element:e.jsx(P,{children:e.jsx(kt,{})})}),e.jsx(_,{path:"/author/:name",element:e.jsx(P,{children:e.jsx(Rt,{})})}),e.jsx(_,{path:"/trending",element:e.jsx(P,{children:e.jsx(Dt,{})})}),e.jsx(_,{path:"/search",element:e.jsx(P,{children:e.jsx(Ut,{})})}),e.jsx(_,{path:"/about",element:e.jsx(P,{children:e.jsx(Mt,{})})}),e.jsx(_,{path:"*",element:e.jsx(It,{})})]})})]})}function Zt(r){const t="=".repeat((4-r.length%4)%4),n=(r+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(n);return Uint8Array.from([...a].map(s=>s.charCodeAt(0)))}function ie(r){const t=new Uint8Array(r);let n="";return t.forEach(a=>n+=String.fromCharCode(a)),window.btoa(n)}async function oe(r){try{if(!x)throw new Error("Supabase client not initialized.");const t=r.endpoint,n=ie(r.getKey("p256dh")),a=ie(r.getKey("auth")),{error:s}=await x.from("subscriptions").insert([{endpoint:t,p256dh:n,auth:a}]);s?console.error("‚ùå Failed to save subscription:",s.message):console.log("‚úÖ Subscription saved:",t)}catch(t){console.error("‚ùå Subscription save error:",t.message)}}"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const r=await navigator.serviceWorker.register("/service-worker.js");console.log("‚úÖ ServiceWorker registered:",r.scope);const t="BFzeviQxyGr7HnKpI_MLEJKb8iBpBrDBC2Inxqyhml732RlYjln-2XigohAS8bmB142LtOnyDlGYfaaFwWJeQFw",n=await r.pushManager.getSubscription();if(n){console.log("‚ÑπÔ∏è Already subscribed:",n.endpoint),await oe(n);return}const a=await r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zt(t)});console.log("üì° New push subscription:",a.endpoint),await oe(a)}catch(r){console.error("‚ùå ServiceWorker setup failed:",r)}});Se.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx(Ee,{children:e.jsx(Vt,{})})}));
//# sourceMappingURL=main-kLFCxb1s.js.map
